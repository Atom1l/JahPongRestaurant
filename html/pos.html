<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>สั่งอาหาร - ร้านจ่าพงศ์</title>
  
  <link rel="stylesheet" href="../css/pos.css">
  <link rel="stylesheet" href="../css/login.css">
</head>
<body>

    <div class="pos-container" id="table-selection-container">
        <h2>ระบุเลขโต๊ะ</h2>

    <div class="status-legend">
        <span><span class="dot selected"></span> เลือกโต๊ะ</span>
        <span><span class="dot available"></span> โต๊ะว่าง</span>
        <span><span class="dot occupied"></span> โต๊ะเต็ม</span>
    </div>

    <div class="table-grid" id="table-grid-container">
    </div>
        <button type="button" id="select-table-button" class="pos-button">เลือก</button>
    </div>


    <div class="pos-container" id="menu-container" style="display: none;">

      <div class="menu-header">
        <h2>รายการอาหาร</h2>
        <div id="cart-icon" style="margin-top: 8px;">
          <img style="color: #1E1E1E;" width="30px" height="30px" src="/images/carts.png" alt="cart">
          <span id="cart-count">0</span>
        </div>
      </div>

      <!-- <div class="search-bar">
        <input type="text" id="search-input" placeholder="ค้นหารายการอาหาร...">
      </div> -->

      <div class="menu-grid" id="menu-grid-container">
        </div>
      
    </div>
    <!--  -->

<div class="pos-container" id="checkout-container" style="display: none;">

<div class="checkout-header">
  <button id="checkout-back-button" class="back-button">❮</button>
  <h2>รายการอาหาร</h2>
  <div style="width: 40px;"></div> </div>

<div id="checkout-list">
</div>

  <div class="checkout-summary">
    <div class="summary-row">
      <span>ค่าอาหาร</span>
      <span id="summary-subtotal">฿ 0.00</span>
    </div>
    <div class="summary-row">
      <span>ส่วนลด</span>
      <span>฿ 0.00</span>
    </div>
    <div class="summary-row total">
      <span>ทั้งหมด</span>
      <span id="summary-total">฿ 0.00</span>
    </div>
  </div>

  <div class="payment-methods">
    <h3>วิธีการชำระเงิน</h3>
    <button class="payment-option selected" data-payment="Cash">
    <span class="payment-icon">
      <img width="30px" height="30px" src="/images/cash.png" alt="cash"></span> เงินสด
    </button>
    <button class="payment-option" data-payment="QR">
    <span class="payment-icon">
      <img width="30px" height="30px" src="/images/QR codes.png" alt="QR"></span> OR พร้อมเพย์
    </button>
  </div>

  <button id="confirm-order-button" class="pos-button confirm-button">
    ยอดชำระ 
    <span id="confirm-total-price">฿ 0.00</span>
  </button>

</div>

  <div class="pos-container" id="success-container" style="display: none;">
    <div class="success-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
    <path fill="#f06a4e" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM371.8 200.7L233.8 338.7c-4.7 4.7-10.9 7-17.7 7s-13-2.3-17.7-7l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l46.4 46.4l120.7-120.7c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
    </svg>
  </div>
  <h2>สั่งอาหารเรียบร้อย</h2>
</div>

    <!-- Modal สำหรับแสดงรายละเอียดเมนู -->
    <div id="item-modal" class="modal-overlay" style="display: none;">
      <div class="modal-content">

      <div class="modal-header">
        <h3 id="modal-item-name">ชื่ออาหาร</h3>
        <button id="modal-close-button" class="close-button">&times;</button>
      </div>

      <img src="" alt="รูปอาหาร" id="modal-item-image">

      <p class="modal-price" id="modal-item-price-display" style="display: none;">฿ 0.00</p>

      <label for="modal-notes">รายละเอียดเพิ่มเติม:</label>
      <textarea id="modal-notes" placeholder="เช่น ไม่เอาหนัง, ขอราดน้ำเยอะๆ"></textarea>

      <div id="modal-price-options" style="display: none; margin-bottom: 1rem;">
        <button id="modal-btn-normal" class="payment-option price-option" data-price="0">
          ธรรมดา ฿0
        </button>
        <button id="modal-btn-special" class="payment-option price-option" data-price="0">
          พิเศษ ฿0
        </button>
      </div>

      <div class="modal-actions">
        <button id="add-to-cart-button" class="pos-button">เพิ่มลงตะกร้า</button>
      </div>

      </div>
    </div>


  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

  <script>
    // ใช้ Config เดียวกับหน้า Login
    const firebaseConfig = {
        apiKey: "AIzaSyD1SI_Y7R6e7pBlM_2gGSBp0fkeem3aSpI",
        authDomain: "jahpongrestaurant.firebaseapp.com",
        projectId: "jahpongrestaurant",
        storageBucket: "jahpongrestaurant.firebasestorage.app",
        messagingSenderId: "97238013021",
        appId: "1:97238013021:web:6f613131285f7b6532e9b4",
        measurementId: "G-TKG07DGYD9"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>
  
  <script src="../scripts/pos.js"></script> 
  
</body>
</html>